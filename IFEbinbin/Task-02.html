<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>IFE JavaScript Task 02</title>
</head>
<body>
	<h3>污染城市列表</h3>
	<ul id="aqi-list">

	</ul>
	<script>
		var aqiData = [
			["北京",100],
			["上海",50],
			["武汉",90],
			["广州",60],
			["成都",85],
			["珠海",10]
		];
		(function () {
			// 筛选空气质量大于60的城市
			var arr = [];
			for (var i = 0; i < aqiData.length; i++) {
				if(aqiData[i][1] >= 60)
					arr.push(aqiData[i]);
			}
			// 按空气质量降序排序
			arr.sort(function(a, b) {
				return b[1] - a[1];
			});
			// 准备一个字符串用来截取中文“一、二、三、四、五、六”
			var str = "一二三四五六";
			for (var i = 0; i < arr.length; i++) {
				var ul = document.getElementById("aqi-list");
				var li = document.createElement("li");
				var content = "第" + str.charAt(i) + "名："
							+ arr[i][0] + "," +arr[i][1];
				var text = document.createTextNode(content);
				li.appendChild(text);
				ul.appendChild(li); 
			}
		})();
	</script>
</body>
</html>